"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["12499"],{74538:function(n){n.exports={}},575625:function(n,l,t){t.r(l);var i=t(660426),s=t(261788),_=t(378204),v=t.n(_),d=t(74538),c=t.n(d);YUI.add("squarespace-native-video-loader",function(a){a.namespace("Squarespace"),a.Squarespace.NativeVideoLoader=a.Base.create("NativeVideoLoader",a.Plugin.Base,[],{initializer:function(){var e={muted:!1,autoPlay:!1,loop:!1,controls:i.Vo.Full};this._wrapperElement=this._getWrapperElement(),this._nativeVideoPlayerElement=this._getNativeVideoPlayerElement(),this._thumbnailConfig=this._getDataFromAttribute("config-thumbnail")||{},this._videoConfig=this._getDataFromAttribute("config-video"),this._settingsConfig=this._getDataFromAttribute("config-settings")||e,this._videoPlayerOptions=this._getVideoPlayerOptions(),this._videoPlayerContext=this._getVideoPlayerContext(),this._playerWithTracker=this._createPlayerWithTracker()},destructor:function(){this._playerWithTracker&&(this._playerWithTracker.videoActivityTracker&&this._playerWithTracker.videoActivityTracker.destroy(),this._playerWithTracker.videoPlayer.destroy()),this._wrapperElement=null},getVideoPlayer:function(){return this._playerWithTracker.videoPlayer},_getVideoPlayerOptions:function(){var e={language:window.Static.SQUARESPACE_CONTEXT.website.language,thumbnailFocalPoint:this._thumbnailConfig.focalPoint,performanceAnalytics:!1,storage:!this._settingsConfig.muted};return Object.assign(e,this._settingsConfig)},_createPlayerWithTracker:function(){var e=this._getVideoActivityTracker();return{videoActivityTracker:e,videoPlayer:new i.Y7(this._nativeVideoPlayerElement,this._getVideoPlayerConfiguration(e))}},_getWrapperElement:function(){return this.get("host").getDOMNode()},_getNativeVideoPlayerElement:function(){var e=".native-video-player";return this._wrapperElement.querySelector(e)},_getDataFromAttribute:function(e){return JSON.parse(this._wrapperElement.getAttribute("data-"+e))},_getVideoPlayerContext:function(){return{squarespaceContext:window.Static.SQUARESPACE_CONTEXT,videoAssetDetails:this._videoConfig,assetDestination:"video-block",contentCollectionId:this._getDataFromAttribute("config-collection-id")||null,contentItemId:this._videoConfig.id}},_getVideoActivityTracker:function(){var e=!this.get("isVisitorWebsite")||this._settingsConfig.autoPlay;if(e)return null;var r=Object.assign(this._videoPlayerContext,{videoPlayerOptions:this._videoPlayerOptions}),o=(0,s.o)(r);return new s.E(this._nativeVideoPlayerElement,o)},_getVideoPlayerConfiguration:function(e){var r=this._videoConfig.alexandriaUrl,o=this._thumbnailConfig.src;return{src:(0,i.Tj)(this._videoConfig),thumbnailSrc:(0,i.ZJ)(r,o),events:e?e.makeEventHooks():void 0,environment:(0,i.zj)(),context:this._videoPlayerContext,options:this._videoPlayerOptions}}},{NS:"nativevideoloader",ATTRS:{isVisitorWebsite:{value:!1}}})},"1.0",{requires:["base","node","plugin"]})}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/8d240c879194858c/native-video-loader-1a580ca3ed5d370c-min.en-US.js.map