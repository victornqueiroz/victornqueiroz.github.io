"use strict";(globalThis.webpackChunknew_bedford_framework=globalThis.webpackChunknew_bedford_framework||[]).push([[2904],{1992:(t,e,i)=>{i.d(e,{A:()=>h});var s=i(67373),r=i(40221),n=i(49099);function o(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class h extends s.A{constructor(t){super(t),o(this,"tick",()=>{const{ease:t,from:e,to:i,duration:s,onUpdate:n,onComplete:o}=this.props,h=Date.now()-this.lastUpdate;this.lastUpdate+=h,this.time=(this.lastUpdate-this.startTime)/1e3,this.time>s&&(this.time=s),n((0,r.Cc)(e,i,t(this.time/s))),this.time>=s?o(i):requestAnimationFrame(this.tick)});const{autoStart:e}=this.props;this.state={isActive:!1},this.startTime=null,this.lastUpdate=null,this.frame=null,e&&this.start()}start(){this.state.isActive||(this.setState({isActive:!0}),this.startTime=Date.now(),this.lastUpdate=this.startTime,this.frame=requestAnimationFrame(this.tick))}destroy(){cancelAnimationFrame(this.frame)}}o(h,"defaultProps",{autoStart:!0,ease:function(t){return-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)*(t/=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)*(t-2)+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},duration:1,from:0,to:0,onUpdate:n.l,onComplete:n.l})},91833:(t,e,i)=>{i.d(e,{A:()=>h});var s=i(67373),r=i(73864),n=i(49099);function o(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class h extends s.A{constructor(t){super(t),o(this,"onPress",t=>{t.stopPropagation(),"number"==typeof t.button&&0!==t.button||this.startSwipe(t,this.normalizeMouseEvent(t))}),o(this,"onMove",t=>{const{axis:e,minSwipeLength:i,preventScroll:s}=this.props;if(s&&(t.preventDefault(),t.stopPropagation()),t.targetTouches&&t.targetTouches[0].identifier!==this.state.touchIdentifier)return;const r=this.getSwipeDirection(this.normalizeMouseEvent(t));s&&("xy"===e?t.preventDefault():"x"===e?r.swipeLengthX>=i&&t.preventDefault():r.swipeLengthY>=i&&t.preventDefault()),this.isSwipeDirectionUnchanged(r)?this.updateSwipe(r,this.normalizeMouseEvent(t)):this.resetSwipe()}),o(this,"onRelease",()=>{const t=this.getSwipeLength(this.state.pos),e=(new Date).getTime()-this.state.swipeStart.getTime();if(t>this.props.minSwipeLength&&e<=this.props.maxTimeThreshold){const t=(this.state.direction.y||"")+(this.state.direction.x||""),e=`onSwipe${t}`,i={type:`swipe${t}`,timestampStart:this.state.swipeStart,timestampEnd:new Date,start:this.state.start,end:this.state.pos,direction:this.state.direction};this.props.onSwipe&&this.props.onSwipe(i),this.props[e]&&this.props[e](i)}this.endSwipe()}),o(this,"getSwipeLength",t=>this.getSwipeLengthX(t)+this.getSwipeLengthY(t)),o(this,"getSwipeLengthX",t=>Math.abs(t.x-this.state.start.x)),o(this,"getSwipeLengthY",t=>Math.abs(t.y-this.state.start.y)),o(this,"isSwipeDirectionUnchanged",t=>!(this.state.direction.x&&this.state.direction.x!==t.x||this.state.direction.y&&this.state.direction.y!==t.y)),o(this,"normalizeMouseEvent",t=>{const e=(0,r.np)(t);return{x:e.clientX,y:e.clientY}});const{node:e}=this.props;this.state={touchIdentifier:null,direction:{x:null,y:null},pos:{x:null,y:null},start:{x:null,y:null},swipeStart:new Date},this.node=e,this.bindListeners()}bindListeners(){this.node.addEventListener(r.AZ.press,this.onPress)}unbindListeners(){this.node.removeEventListener(r.AZ.press,this.onPress)}getSwipeDirection(t){const e={...this.state.direction};return e.swipeLengthY=this.getSwipeLengthY(t),e.swipeLengthX=this.getSwipeLengthX(t),e.swipeLengthY>this.props.moveThreshold&&(e.y=t.y<this.state.start.y?"Up":"Down"),e.swipeLengthX>this.props.moveThreshold&&(e.x=t.x<this.state.start.x?"Left":"Right"),e}startSwipe(t,e){this.setState({touchIdentifier:t.targetTouches?t.targetTouches[0].identifier:null,direction:{x:null,y:null},start:e,pos:{x:null,y:null},swipeStart:new Date}),document.addEventListener(r.AZ.move,this.onMove),r.AZ.release.forEach(t=>{document.addEventListener(t,this.onRelease)})}endSwipe(){document.removeEventListener(r.AZ.move,this.onMove),r.AZ.release.forEach(t=>{document.removeEventListener(t,this.onRelease)})}updateSwipe(t,e){this.setState({direction:t,pos:e})}resetSwipe(){this.setState({touchIdentifier:null,direction:{x:null,y:null},pos:{x:null,y:null},start:{x:null,y:null},swipeStart:new Date})}destroy(){this.unbindListeners(),this.endSwipe()}}o(h,"defaultProps",{node:document.createElement("div"),axis:"xy",maxTimeThreshold:600,minSwipeLength:40,moveThreshold:100,preventScroll:!0,onSwipe:n.l,onSwipeLeft:n.l,onSwipeUpLeft:n.l,onSwipeUp:n.l,onSwipeUpRight:n.l,onSwipeRight:n.l,onSwipeDownRight:n.l,onSwipeDown:n.l,onSwipeDownLeft:n.l})},66367:(t,e,i)=>{i.d(e,{h:()=>s,v:()=>r});const s=(t,e)=>(Object.keys(e).forEach(i=>{t.style[i]=e[i]}),t),r=t=>"object"==typeof t&&null!==t&&1===t.nodeType},82e3:(t,e,i)=>{i.d(e,{J:()=>h});const s=Array.prototype.slice,r=function(){const t=s.call(arguments);return function(){let e=s.call(arguments);for(let i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},n=[],o={executeCallbacks(){n.forEach(t=>t())},trigger(){this.executeCallbacks()},registerCallback(t){t&&n.push(t)},removeCallback(t){if(t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}},on(t){this.registerCallback(t)},off(t){this.removeCallback(t)}};window.history&&window.history.pushState&&(history.change=o,history.pushState=r(()=>history.change.trigger(),history.pushState),history.replaceState=r(()=>history.change.trigger(),history.replaceState),window.addEventListener("popstate",()=>{history.change.trigger()}));const h=()=>window.history&&window.history.pushState?history:null},40221:(t,e,i)=>{i.d(e,{Ae:()=>o,Cc:()=>s,Xn:()=>n,pj:()=>r});const s=(t,e,i)=>t*(1-i)+e*i,r=(t,e)=>{let i;for(i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1},n=(t,e,i)=>{const s=r(i,t),n=t[s],o=t[s+1],h=e[s];return(i-n)/(o-n)*(e[s+1]-h)+h},o=(t,e,i,s)=>{const r=e[t],n=e[t+1],o=i[t],h=i[t+1],a=(s-r)/(n-r);return 1===i.length?o:a*(h-o)+o}},22902:(t,e,i)=>{i.d(e,{P6:()=>r,TT:()=>a,_v:()=>o,kr:()=>n,pG:()=>h});i(68444);var s=i(63285);const r=t=>{if(!t)return 1;if(!t.dataset.imageDimensions){const e=t.getAttribute("width"),i=t.getAttribute("height");return e&&i?+e/+i:1}const e=t.dataset.imageDimensions.split("x");return e[0]&&e[1]?+e[0]/+e[1]:void 0},n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(t<=e)return t;const i=window.innerWidth;return i<=s.fi.sm?Math.max(e,Math.round(.25*t)):i<=s.fi.md?Math.max(e,Math.round(.5*t)):i<=s.fi.lg?Math.max(e,Math.round(.75*t)):t},o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=window.innerWidth;let i=Math.max(1,t);return 1===i?i:e<=s.fi.sm?2:e<=s.fi.md?Math.max(Math.ceil(.5*i),2):e<=s.fi.lg?Math.ceil(.75*i):i},h=t=>{let e=0,i=0;const s={width:e,height:i};return t?(t.dataset.imageDimensions?[e,i]=t.dataset.imageDimensions.split("x"):(e=t.getAttribute("width"),i=t.getAttribute("height")),e&&i?{width:+e,height:+i}:s):s},a=t=>{const e={x:.5,y:.5};if(!t)return e;if(!t.dataset.imageFocalPoint)return e;const[i,s]=t.dataset.imageFocalPoint.split(",");return i&&s?{x:+i,y:+s}:e}},55552:(t,e,i)=>{i.r(e),i.d(e,{GalleryReel:()=>S,default:()=>y});var s=i(67373),r=i(91833),n=i(68651),o=i(1992),h=i(22902),a=i(40221),l=i(66367);function d(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class p extends s.A{constructor(t){super(t),d(this,"createNode",t=>{const e=document.createElement("div");return e.innerHTML=t,e.firstChild}),d(this,"resize",(t,e,i,s)=>{const{width:r,height:n,focalPoint:o}=this.props;if(this.width=Math.round(r*(e/n)),this.height=e,s){this.width=t;const i=Math.max(this.width/r,this.height/n),s=r*i,h=n*i,a=.5*t-.5*s-(s-t)*(o.x-.5),d=.5*e-.5*h-(h-e)*(o.y-.5);(0,l.h)(this.ref.wrapper,{width:`${s}px`,height:`${h}px`,transform:`matrix(1, 0, 0, 1, ${a}, ${d})`})}else(0,l.h)(this.ref.wrapper,{width:"100%",height:"100%",transform:"none"});return(0,l.h)(this.node,{width:`${this.width}px`,height:`${this.height}px`}),this.worldX=i,this.halfWidth=.5*this.width,this.width});const{html:e,width:i,height:s,imageWrapperSelector:r}=this.props;this.state={isActive:!1,inViewport:!0},this.offsetY=0,this.width=i,this.height=s,this.worldX=0,this.halfWidth=.5*i,this.pos={x:0},this.node=this.createNode(e),this.ref={image:this.node.querySelector("img")},this.ref.wrapper=r?this.ref.image.closest(r):this.ref.image.parentNode,this.node.style.width=`${i}px`,this.node.style.height=`${s}px`,this.loadImage()}loadImage(){const{image:t,wrapper:e}=this.ref;t.onload=()=>{e.dataset.loaded=!0},t.onload()}selectInteractiveElements(t){return t.querySelectorAll("a")}position(t,e,i,s){let r=t+this.worldX;r+this.width<0?r+=e:r>i&&(r-=e);if(r+this.width>0&&r<i)return this.state.inViewport||this.setState({inViewport:!0}),this.node.style.transform=`matrix(1, 0, 0, 1, ${r}, 0)`,this.ref.wrapper.dataset.visible=!0,void[...this.selectInteractiveElements(this.node)].forEach(t=>{t.tabIndex=0});this.state.inViewport&&(this.setState({inViewport:!1}),this.node.style.transform="matrix(1, 0, 0, 1, -9999, 0)",this.ref.wrapper.dataset.visible=!1,[...this.selectInteractiveElements(this.node)].forEach(t=>{t.tabIndex=-1}))}addSlide(){this.loadImage(),this.setState({isActive:!0}),this.node.dataset.active=this.state.isActive}removeSlide(){this.setState({isActive:!1}),this.node.dataset.active=this.state.isActive}}d(p,"defaultProps",{html:"",width:800,height:600,focalPoint:{x:.5,y:.5}});var c=i(49099),u=i(63285);function g(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class f extends s.A{constructor(t){super(t),g(this,"buildSlidesData",t=>t.map(t=>{const e=t.querySelectorAll("img")[0];return{html:t.outerHTML,...(0,h.pG)(e),focalPoint:(0,h.TT)(e)}})),g(this,"onPreviousSlide",t=>{this.setTargetSlide(this.pos.target-1),t&&t.preventDefault&&t.preventDefault()}),g(this,"onNextSlide",t=>{this.setTargetSlide(this.pos.target+1),t&&t.preventDefault&&t.preventDefault()}),g(this,"onResize",()=>{const{region:t,maxDuplicationCount:e}=this.props,i=t.clientWidth,s=t.clientHeight-this.getGalleryCaptionHeight();let r=this.resizeSlides(i,s);if(r<2*i)for(;r<2*i&&this.slides.length<e;)this.slides.push(...this.addSlides(this.slidesData,t)),r=this.resizeSlides(i,s);this.setState({totalWidth:r,regionWidth:i,halfRegionWidth:.5*i,regionHeight:s}),this.slidesLen=this.slides.length,this.offsets=this.slides.map(t=>t.worldX+t.halfWidth);const n=this.slides[0],o=this.slides[this.slides.length-1];this.offsets.push(o.worldX+o.width+n.halfWidth),this.update()}),g(this,"addSlides",(t,e)=>t.map(t=>{const i=new p({...t,imageWrapperSelector:this.props.imageWrapperSelector});return e.appendChild(i.node),i})),g(this,"update",()=>{const{len:t,totalWidth:e,regionWidth:i,halfRegionWidth:s,regionHeight:r}=this.state,n=(this.pos.current%t+t)%t,o=s-(0,a.Xn)(this.indexes,this.offsets,n);for(let t=0;t<this.slidesLen;t+=1)this.slides[t].position(o,e,i,r)});const{node:e,region:i,slides:s,cover:n,slideDuration:o}=this.props,l=i.clientWidth,d=i.clientHeight;this.state={cover:n,totalWidth:0,regionWidth:l,halfRegionWidth:.5*l,regionHeight:d,len:s.length,previousIndex:-1,index:0,slideDuration:o},this.pos={target:0,current:0},this.node=e,i.innerHTML="",this.slidesData=this.buildSlidesData(s,this.props),this.indexes=Array.from(Array(this.state.len+1).keys()),this.slides=this.addSlides(this.slidesData,i),this.slidesLen=this.slides.length,this.slidesData.length&&(this.swipe=new r.A({axis:"x",node:i,onSwipeRight:this.onPreviousSlide,onSwipeLeft:this.onNextSlide}),this.bindListeners(),this.props.onSetSlide(this.state.index),this.setTargetSlide(this.state.index))}bindListeners(){const{buttonPrevious:t,buttonNext:e}=this.props;t&&t.addEventListener("click",this.onPreviousSlide),e&&e.addEventListener("click",this.onNextSlide),n.A.on(this.onResize,u.X0),this.onResize()}unbindListeners(){const{buttonPrevious:t,buttonNext:e}=this.props;t&&t.removeEventListener("click",this.onPreviousSlide),e&&e.removeEventListener("click",this.onNextSlide),n.A.off(this.onResize)}setTargetSlide(t){const{len:e,slideDuration:i,previousIndex:s}=this.state,r=(t%e+e)%e,n=s,h=this.slides[r],a=this.slides[n];a&&a.removeSlide(),h.addSlide(),this.setState({index:r,previousIndex:r}),this.props.onSetSlide(r),this.pos.target=t,this.tween&&this.tween.destroy(),this.tween=new o.A({duration:i,from:this.pos.current,to:this.pos.target,onUpdate:t=>{this.pos.current=t,this.update()}})}resizeSlides(t,e){const{cover:i}=this.state;let s=0;for(let r=0,n=this.slides.length;r<n;r+=1){s+=this.slides[r].resize(t,e,s,i)}return s}refresh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({...t}),this.slidesData.length&&this.onResize()}isGalleryCaptionOn(){const{isGalleryShowCaptionsOn:t}=this.props;return!!t}getGalleryCaptionHeight(){return this.isGalleryCaptionOn()?125:0}destroy(){this.tween&&this.tween.destroy(),this.tween=null,this.slides=[],this.slidesData=[],this.unbindListeners(),this.swipe&&this.swipe.destroy()}}g(f,"defaultProps",{node:document.createElement("div"),region:document.createElement("div"),buttonNext:document.createElement("a"),buttonPrevious:document.createElement("a"),slides:[],cover:!1,slideDuration:.6,maxDuplicationCount:100,onSetSlide:c.l});var m=i(59440),w=i(82e3);function v(t,e,i){var s;return(e="symbol"==typeof(s=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?s:s+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class S extends s.A{constructor(t){super(),v(this,"onSetSlide",t=>{this.clickLinks.forEach(e=>{parseInt(e.getAttribute("data-target"),10)===t+1?e.classList.add("active"):e.classList.remove("active")})}),v(this,"onLightboxOpen",t=>{const{isHistoryEnabled:e}=this.state;e&&(t.preventDefault(),history.pushState({},"",t.currentTarget.href))}),v(this,"destroy",()=>{this.unbindListeners(),this.reel.destroy()}),this.betaFeatureFlags=(0,m.T)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]);const e=(0,m.T)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);this.history=(0,w.J)();const{listSelector:i,slideSelector:s,previousSelector:r,controlsSelector:n,nextSelector:o}=this.props;let h={};t.dataset.props&&(h=JSON.parse(t.dataset.props)),this.state={design:"reel",controlsLocation:"side",isCropping:!1,width:"full",viewportHeight:75,isHistoryEnabled:e&&this.history,...h},this.node=t,this.clickLinks=this.node.querySelectorAll(".gallery-click-through-link"),this.showCaptions=this.node.dataset.showCaptions,this.reel=new f({node:this.node,region:this.node.querySelector(i),controls:this.node.querySelector(n),slides:Array.from(this.node.querySelectorAll(s)),buttonPrevious:this.node.querySelector(r),buttonNext:this.node.querySelector(o),cover:this.state.isCropping,onSetSlide:this.onSetSlide.bind(this),imageWrapperSelector:".gallery-reel-item-src",isGalleryShowCaptionsOn:"true"===this.showCaptions}),this.bindListeners()}bindListeners(){this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach(t=>{t.addEventListener("click",this.onLightboxOpen)})}unbindListeners(){this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach(t=>{t.removeEventListener("click",this.onLightboxOpen)})}}v(S,"defaultProps",{listSelector:".gallery-reel-list",slideSelector:".gallery-reel-item",controlsSelector:".gallery-reel-controls",previousSelector:"[data-previous]",nextSelector:"[data-next]",lightboxLinkSelector:'.gallery-reel-item[data-video="true"] .gallery-reel-lightbox-link'});const y=t=>new S(t)}}]);